{"version":3,"sources":["../../src/models/index.js"],"names":["url","getMongoUrl","mongoose","connect","useNewUrlParser","db","console","log","connectDB","close","closeDBconnection","getDB","user","pass","Error"],"mappings":";;;;;;;;qEAYO;AAAA;AAAA;AAAA;AAAA;AAAA;AACCA,eADD,GACOC,aADP;AAAA;AAAA;AAAA,mBAGQC,mBAASC,OAAT,CAAiBH,GAAjB,EAAsB,EAAEI,iBAAiB,IAAnB,EAAtB,CAHR;;AAAA;AAGHC,cAHG;;AAIHC,oBAAQC,GAAR,CAAY,oBAAZ;AAJG;AAAA;;AAAA;AAAA;AAAA;;AAMHD,oBAAQC,GAAR;;AANG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,S;;;;;;sEAef;AAAA;AAAA;AAAA;AAAA;AAAA,gBACEH,EADF;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAAA;AAAA,mBAEGA,GAAGI,KAAH,CAAS,IAAT,CAFH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,iB;;;;;QALNC,K,GAAAA,K;;AAtBhB;;;;;;;;AAEA,IAAIN,WAAJ;;AAEA,SAASJ,WAAT,GAAwB;AACtB,MAAMD,MAAM,yCAAZ;AACA,MAAMY,OAAO,SAAb;AACA,MAAMC,OAAO,YAAb;;AAEA,wBAAoBD,IAApB,SAA4BC,IAA5B,SAAoCb,GAApC;AACD;;AAYM,SAASW,KAAT,GAAkB;AACrB,MAAI,CAACN,EAAL,EAAS,MAAM,IAAIS,KAAJ,CAAU,GAAV,EAAe,2BAAf,CAAN;AACT,SAAOT,EAAP;AACH","file":"index.js","sourcesContent":["import mongoose from 'mongoose'\n\nlet db\n\nfunction getMongoUrl () {\n  const url = 'ds143593.mlab.com:43593/heroku_w4lj9scn'\n  const user = 'swagger'\n  const pass = 'abc1234567'\n\n  return `mongodb://${user}:${pass}@${url}`\n}\n\nexport async function connectDB () {\n  const url = getMongoUrl()\n  try{\n    db = await mongoose.connect(url, { useNewUrlParser: true })\n    console.log('  DB connection OK')\n  } catch(error){\n    console.log(error)\n  }\n}\n\nexport function getDB () {\n    if (!db) throw new Error(500, 'Database connection error')\n    return db\n}\n\nexport async function closeDBconnection () {\n    if (!db) return\n    await db.close(true)\n}\n\n"]}