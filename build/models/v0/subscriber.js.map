{"version":3,"sources":["../../../src/models/v0/subscriber.js"],"names":["model","SubscriberSchema","find","subs","getSubsAll","email","Subs","save","createNewSubs","mongoose","Schema","type","String","unique","trim","lowercase","required","isSub","Boolean","default","created","Date","now"],"mappings":";;;;;;;AAuBA;AACA;;qEACO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACc,eAAQA,KAAR,CAAc,YAAd,EAA4BC,gBAA5B,EAA8CC,IAA9C,CAAmD,EAAnD,CADd;;AAAA;AACCC,gBADD;AAAA,6CAGEA,IAHF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeC,U;;;;;;sEAOf,kBAA8BC,KAA9B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACc,eAAQL,KAAR,CAAc,YAAd,EAA4BC,gBAA5B,CADd;;AAAA;AACCK,gBADD;AAECH,gBAFD,GAEQ,IAAIG,IAAJ,CAAS,EAACD,OAAOA,KAAR,EAAT,CAFR;;AAGLF,iBAAKI,IAAL;;AAHK,8CAKEJ,IALF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G;;kBAAeK,a;;;;;AAhCtB;;;;AACA;;;;;;AAEA;AACA;AACA,IAAMP,mBAAmB,IAAIQ,mBAASC,MAAb,CAAoB;AAC3CL,SAAO;AACLM,UAAMC,MADD;AAELC,YAAQ,IAFH;AAGLC,UAAM,IAHD;AAILC,eAAW,IAJN;AAKLC,cAAU;AALL,GADoC;AAQ3CC,SAAO;AACLN,UAAMO,OADD;AAELC,aAAS;AAFJ,GARoC;AAY3CC,WAAS;AACPT,UAAMU,IADC;AAEPF,aAASE,KAAKC;AAFP;AAZkC,CAApB,CAAzB","file":"subscriber.js","sourcesContent":["import mongoose from 'mongoose'\nimport {getDB} from '..'\n\n// SUBSCRIBERS SCHEMA\n// -----------------------------------------------------------------------------\nconst SubscriberSchema = new mongoose.Schema({\n  email: {\n    type: String,\n    unique: true,\n    trim: true,\n    lowercase: true,\n    required: true\n  },\n  isSub: {\n    type: Boolean,\n    default: true\n  },\n  created: {\n    type: Date,\n    default: Date.now\n  }\n})\n\n// METHODS\n// -----------------------------------------------------------------------------\nexport async function getSubsAll () {\n  const subs = await getDB().model('Subscriber', SubscriberSchema).find({})\n\n  return subs\n}\n\n\nexport async function createNewSubs (email) {\n  const Subs = await getDB().model('Subscriber', SubscriberSchema)\n  const subs = new Subs({email: email})\n  subs.save()\n\n  return subs\n\n}"]}