{"version":3,"sources":["../src/router.js"],"names":["router","controllers","wrap","fn","catch","get","req","res","status","json","Server","post","verifyJsonWebToken","user","userCreate","userSignIn","tattoo","tattooAll","tattooByAlbum","tattooByAlbumAndName","tattooFindImage","tattooCreate","tattooUploadNewImage","put","tattooModifyByName","delete","tattooDeleteById"],"mappings":";;;;;;AAAA;;AACA;;;;AACA;;;;AAEA,IAAMA,SAAS,sBAAf;AACA,IAAMC,cAAc,0BAAW,eAAX,CAApB;;AAEA;AACA,IAAMC,OAAO,SAAPA,IAAO;AAAA,SAAM;AAAA,WAAaC,+BAAYC,KAAZ,kDAAb;AAAA,GAAN;AAAA,CAAb;;AAEA;AACAJ,OAAOK,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAAEA,MAAIC,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAAEC,QAAQ,WAAV,EAArB;AAA8C,CAA9E;;AAEA;AACAV,OAAOW,IAAP,CAAY,mBAAZ,EAAiCC,wBAAjC,EAAqDV,KAAKD,YAAYY,IAAZ,CAAiBC,UAAtB,CAArD;AACAd,OAAOW,IAAP,CAAY,mBAAZ,EAAiCT,KAAKD,YAAYY,IAAZ,CAAiBE,UAAtB,CAAjC;;AAEA;AACAf,OAAOK,GAAP,CAAW,iBAAX,EAA8BH,KAAKD,YAAYe,MAAZ,CAAmBC,SAAxB,CAA9B;AACAjB,OAAOK,GAAP,CAAW,oBAAX,EAAiCH,KAAKD,YAAYe,MAAZ,CAAmBE,aAAxB,CAAjC;AACAlB,OAAOK,GAAP,CAAW,0BAAX,EAAuCH,KAAKD,YAAYe,MAAZ,CAAmBG,oBAAxB,CAAvC;AACAnB,OAAOK,GAAP,CAAW,6BAAX,EAA0CH,KAAKD,YAAYe,MAAZ,CAAmBI,eAAxB,CAA1C;;AAEApB,OAAOW,IAAP,CAAY,yBAAZ,EAAuCT,KAAKD,YAAYe,MAAZ,CAAmBK,YAAxB,CAAvC;AACArB,OAAOW,IAAP,CAAY,0BAAZ,EAAwCT,KAAKD,YAAYe,MAAZ,CAAmBM,oBAAxB,CAAxC;;AAEAtB,OAAOuB,GAAP,CAAW,0BAAX,EAAuCrB,KAAKD,YAAYe,MAAZ,CAAmBQ,kBAAxB,CAAvC;;AAEAxB,OAAOyB,MAAP,CAAc,wBAAd,EAAwCvB,KAAKD,YAAYe,MAAZ,CAAmBU,gBAAxB,CAAxC;;kBAEe1B,M","file":"router.js","sourcesContent":["import {Router} from 'express'\nimport requireDir from 'require-dir'\nimport {verifyJsonWebToken} from './services/auth'\n\nconst router = Router()\nconst controllers = requireDir('./controllers')\n\n// Source https://strongloop.com/strongblog/async-error-handling-expressjs-es7-promises-generators/#usinges7asyncawait\nconst wrap = fn => (...args) => fn(...args).catch(args[2])\n\n// HOME\nrouter.get('/', (req, res) => { res.status(200).json({ Server: \"Status OK\" })})\n\n// USER\nrouter.post('/api/user/sign-up', verifyJsonWebToken, wrap(controllers.user.userCreate))\nrouter.post('/api/user/sign-in', wrap(controllers.user.userSignIn))\n\n// TATTOO\nrouter.get('/api/tattoo/all', wrap(controllers.tattoo.tattooAll))\nrouter.get('/api/tattoo/:album', wrap(controllers.tattoo.tattooByAlbum))\nrouter.get('/api/tattoo/:album/:name', wrap(controllers.tattoo.tattooByAlbumAndName))\nrouter.get('/api/tattoo/image/src/:name', wrap(controllers.tattoo.tattooFindImage))\n\nrouter.post('/api/tattoo/save-record', wrap(controllers.tattoo.tattooCreate))\nrouter.post('/api/tattoo/upload-image', wrap(controllers.tattoo.tattooUploadNewImage))\n\nrouter.put('/api/tattoo/modify/:name', wrap(controllers.tattoo.tattooModifyByName))\n\nrouter.delete('/api/tattoo/delete/:id', wrap(controllers.tattoo.tattooDeleteById))\n\nexport default router\n"]}